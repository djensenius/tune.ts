<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>tune.ts</title>
	<meta name="description" content="Documentation for tune.ts">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">tune.ts</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>tune.ts</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#tunets" id="tunets" style="color: inherit; text-decoration: none;">
					<h1>Tune.ts</h1>
				</a>
				<p>TypeScript port of <a href="https://github.com/abbernie/tune">Tune.JS</a> by Andrew Bernstein &amp; Ben Taylor</p>
				<p><strong>Overview:</strong> Tune.js is a web audio tuning library of microtonal and just intonation scales. Tune.js supports over 3,000 historical tunings and temperaments, ported from the vast <a href="http://www.huygens-fokker.org/scala/">Scala</a> tuning archive via the Microtuner files <a href="http://www.venetica.net/Sites/16tone/mtx_file_specs.htm">compiled and documented by Victor Cerullo</a>.</p>
				<p><strong>List of Tunings:</strong> <a href="https://github.com/djensenius/tune.ts/blob/main/TUNINGS.md">Tunings</a></p>
				<p><strong>Full Documentation:</strong> <a href="https://djensenius.github.io/tune.ts/">Full Documentation</a></p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h3>Usage</h3>
				</a>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Tune</span><span style="color: #000000">, </span><span style="color: #001080">TuningSystem</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;tune.ts&#039;</span><span style="color: #000000">;</span>

<span style="color: #008000">// Initiate Tune.ts</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">tune</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Tune</span><span style="color: #000000">();</span>

<span style="color: #008000">// Load a scale</span>
<span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">loadScale</span><span style="color: #000000">(</span><span style="color: #001080">TuningSystem</span><span style="color: #000000">.</span><span style="color: #001080">partchUr</span><span style="color: #000000">);</span>
</code></pre>
				<p>Set the root frequency that you&#39;ll be working with. This sets your scale to the key of A 440</p>
				<pre><code class="language-ts"><span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">tonicize</span><span style="color: #000000">(</span><span style="color: #098658">220</span><span style="color: #000000">);</span>
</code></pre>
				<p>Pass scale degree numbers to the <code>note() </code> method. By default, <code>note(degree, octave) </code> returns the corresponding frequency in Hertz. You can use <code>note() </code> to set the frequency of an oscillator.</p>
				<pre><code class="language-ts"><span style="color: #001080">osc</span><span style="color: #000000">.</span><span style="color: #001080">frequency</span><span style="color: #000000">.</span><span style="color: #001080">value</span><span style="color: #000000"> = </span><span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">note</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">0</span><span style="color: #000000">);</span>
</code></pre>
				<p>This will return the frequency for the third note in the scale, one octave down.</p>
				<pre><code class="language-ts"><span style="color: #001080">osc</span><span style="color: #000000">.</span><span style="color: #001080">frequency</span><span style="color: #000000">.</span><span style="color: #001080">value</span><span style="color: #000000"> = </span><span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">note</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">,-</span><span style="color: #098658">1</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#properties" id="properties" style="color: inherit; text-decoration: none;">
					<h3>Properties</h3>
				</a>
				<a href="#tunemodeoutput" id="tunemodeoutput" style="color: inherit; text-decoration: none;">
					<h4>Tune.mode.output</h4>
				</a>
				<p>Set the output mode of <code>tune.note()</code>. Choose between </p>
				<ul>
					<li><strong>frequency</strong>: <code>tune.note()</code> will return a hertz value, e.g. 392.43834 for a pure G4 over C4</li>
					<li><strong>ratio</strong>: <code>tune.note()</code> will return a ratio value, e.g. 1.5 for a pure G over C</li>
					<li><strong>MIDI</strong>: <code>tune.note()</code> will return an adjusted MIDI pitch, e.g. 67.0195 for a pure G4 over C4</li>
				</ul>
				<pre><code class="language-js"><span style="color: #008000">// Set the output mode to &#039;ratio&#039;, e.g. the ratio 3/2 will output 1.5</span>
<span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #001080">mode</span><span style="color: #000000">.</span><span style="color: #001080">output</span><span style="color: #000000"> = </span><span style="color: #A31515">&#039;ratio&#039;</span><span style="color: #000000">;</span>
</code></pre>
				<p>The default output mode is &#39;frequency&#39;. Currently the only available input mode is &#39;MIDI&#39;. </p>
				<a href="#tunetonic" id="tunetonic" style="color: inherit; text-decoration: none;">
					<h4>Tune.tonic</h4>
				</a>
				<p>The current root frequency of this Tune instance. To set the tonic of a Tune instance use the <code>tonicize()</code> method. The default tonic is set to 440 Hz.</p>
				<pre><code class="language-ts"><span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">tonic</span><span style="color: #000000"> = </span><span style="color: #098658">200</span><span style="color: #000000">;</span>
</code></pre>
				<a href="#tunescale" id="tunescale" style="color: inherit; text-decoration: none;">
					<h4>Tune.scale</h4>
				</a>
				<p>Read only. An array containing the ratio values of the current scale loaded with the <code>loadScale()</code> method.</p>
				<pre><code class="language-ts"><span style="color: #008000">// Returns the length of the current scale</span>
<span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">scaleLength</span><span style="color: #000000"> = </span><span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #001080">scale</span><span style="color: #000000">.</span><span style="color: #001080">length</span><span style="color: #000000">;</span>
</code></pre>
				<a href="#methods" id="methods" style="color: inherit; text-decoration: none;">
					<h3>Methods</h3>
				</a>
				<a href="#tunenotescale-degree---octave-" id="tunenotescale-degree---octave-" style="color: inherit; text-decoration: none;">
					<h4>Tune.note(scale-degree-# [, octave-#])</h4>
				</a>
				<p>Returns a microtonally tuned note value for any scale degree input. By default, <code>Tune.note</code> returns a frequency value in hertz.</p>
				<pre><code class="language-ts"><span style="color: #008000">// This will return the frequency for 7th scale degree of our scale</span>
<span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">note</span><span style="color: #000000"> = </span><span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">note</span><span style="color: #000000">(</span><span style="color: #098658">7</span><span style="color: #000000">, </span><span style="color: #098658">0</span><span style="color: #000000">)</span>
</code></pre>
				<p>Depending on <code>Tune.mode</code>, the <code>Tune.note</code> method may return a frequency value in hertz (default, e.g. 392.43834 for a pure G4 over C4), a ratio value as a float (e.g. 1.5 for a pure G over C), or a MIDI float value (e.g. 67.0195 for a pure G4 over C4). See <code>Tune.mode</code>.</p>
				<p>An optional second argument lets you specify what octave to be played (i.e. -1 for one octave down, 1 for one octave up). </p>
				<p>Additionally, <code>tune.note()</code> automatically wraps scale degrees that are out of range, so that <code>tune.note(8)</code> in a 7 note scale will return the second scale degree, one octave up. Therefore, given a 7 note scale, <code>tune.note(8)</code> is equivalent to <code>tune.note(1,1)</code></p>
				<a href="#tunetonicizefrequency" id="tunetonicizefrequency" style="color: inherit; text-decoration: none;">
					<h4>Tune.tonicize(frequency)</h4>
				</a>
				<p>Sets the scale&#39;s root frequency.</p>
				<pre><code class="language-ts"><span style="color: #008000">// sets the base (tonic) frequency to 200 Hz</span>
<span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">tonicize</span><span style="color: #000000">(</span><span style="color: #098658">200</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#tunechordarray-of-scale-degree-s" id="tunechordarray-of-scale-degree-s" style="color: inherit; text-decoration: none;">
					<h4>Tune.chord([array-of-scale-degree-#s])</h4>
				</a>
				<p>Returns an array of note values. Like <code>Tune.note()</code>, <code>Tune.chord()</code> returns values according to the current output mode (<code>Tune.mode</code>). </p>
				<pre><code class="language-ts"><span style="color: #008000">// returns a three note chord with the specified scale degrees</span>
<span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">myMicrotonalChord</span><span style="color: #000000"> = [</span><span style="color: #098658">60</span><span style="color: #000000">, </span><span style="color: #098658">67</span><span style="color: #000000">, </span><span style="color: #098658">71</span><span style="color: #000000">];</span>
<span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">chord</span><span style="color: #000000">(</span><span style="color: #001080">myMicrotonalChord</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#tunesearch39string39" id="tunesearch39string39" style="color: inherit; text-decoration: none;">
					<h4>Tune.search(&#39;string&#39;)</h4>
				</a>
				<p>Searches through the scale archive for scales that match the query.</p>
				<pre><code class="language-ts"><span style="color: #008000">//returns an array of scale names that contain the word &quot;partch&quot;</span>
<span style="color: #001080">tune</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;partch&#039;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#example-tunings" id="example-tunings" style="color: inherit; text-decoration: none;">
					<h3>Example Tunings</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>Name</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>ji_12</td>
							<td>Basic just instonation with 7-limit tritone</td>
						</tr>
						<tr>
							<td>harm30</td>
							<td>First 30 harmonics and subharmonics</td>
						</tr>
						<tr>
							<td>pyth_31</td>
							<td>31-tone Pythagorean scale</td>
						</tr>
						<tr>
							<td>ptolemy</td>
							<td>Intense Diatonic Syntonon, also Zarlino&#39;s scale</td>
						</tr>
						<tr>
							<td>couperin</td>
							<td>Couperin modified meantone</td>
						</tr>
						<tr>
							<td>helmholtz_pure</td>
							<td>Helmholtz&#39;s two-keyboard harmonium tuning untempered</td>
						</tr>
						<tr>
							<td>partch_43</td>
							<td>Harry Partch&#39;s 43-tone pure scale</td>
						</tr>
						<tr>
							<td>johnston_81</td>
							<td>Ben Johnston&#39;s 81-note 5-limit scale of Sonata for Microtonal Piano</td>
						</tr>
						<tr>
							<td>young-lm_piano</td>
							<td>LaMonte Young&#39;s Well-Tempered Piano</td>
						</tr>
						<tr>
							<td>xenakis_chrom</td>
							<td>Xenakis&#39;s Byzantine Liturgical mode, 5 + 19 + 6 parts</td>
						</tr>
						<tr>
							<td>slendro</td>
							<td>Observed Javanese Slendro scale, Helmholtz/Ellis p. 518, nr.94</td>
						</tr>
						<tr>
							<td>harrison_5</td>
							<td>From Lou Harrison, a pelog style pentatonic</td>
						</tr>
						<tr>
							<td>malkauns</td>
							<td>Mode of Indian Raga Malkauns, inverse of prime_5</td>
						</tr>
				</tbody></table>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/systems.html">systems</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/tune.html">tune</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>